<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lifetimes in Rust - Erkl√§rt wie ein Lehrer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        code {
            background: #f4f4f4;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: "Courier New", monospace;
        }
        pre {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
        .important {
            background: #fff3cd;
            padding: 10px;
            border-left: 4px solid #ffc107;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>Lifetimes in Rust üéì</h1>
    
    <p>Lifetimes (Lebensdauern) in Rust sind ein Konzept, das sicherstellt, dass <strong>Referenzen</strong> immer <strong>g√ºltig</strong> sind.</p>

    <h2>Warum brauchen wir Lifetimes?</h2>
    <p>Rust verhindert "h√§ngende Referenzen" (<em>dangling references</em>):</p>

    <pre><code>fn main() {
    let r;
    {
        let x = 5;
        r = &x;  // FEHLER: `x` lebt nicht lange genug!
    }
    println!("{}", r);
}</code></pre>

    <div class="important">
        <p>Der Compiler gibt einen Fehler aus, weil <code>r</code> l√§nger lebt als <code>x</code>.</p>
    </div>

    <h2>Wie verwendet man Lifetimes?</h2>
    <p>Mit der Syntax <code>'a</code> (oder beliebigen Namen wie <code>'life</code>):</p>

    <pre><code>fn longest<'a>(x: &'a str, y: &'a str) -> &'a str {
    if x.len() > y.len() { x } else { y }
}</code></pre>

    <p>Hier gilt: Der R√ºckgabewert lebt <strong>genauso lange</strong> wie die k√ºrzeste der beiden Eingaben.</p>

    <h2>Wichtige Regeln</h2>
    <ol>
        <li>Jede Referenz hat eine Lifetime</li>
        <li>Bei einer Eingabe-Referenz wird die Lifetime automatisch zugewiesen</li>
        <li>Bei Methoden (<code>&self</code>) erbt der R√ºckgabewert die Lifetime von <code>self</code></li>
    </ol>

    <h2>Beispiel mit Structs</h2>
    <pre><code>struct Book<'a> {
    title: &'a str  // `title` muss l√§nger leben als das Struct
}</code></pre>

    <div class="important">
        <p><strong>Zusammenfassung:</strong> Lifetimes sind Rusts Garantie, dass Referenzen sicher sind!</p>
    </div>
</body>
</html>